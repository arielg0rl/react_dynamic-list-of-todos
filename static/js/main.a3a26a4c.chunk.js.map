{"version":3,"sources":["components/TodoList/TodoList.tsx","components/api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","state","title","sortBy","handleInputChange","event","value","target","setState","toLowerCase","handleSelectorChange","getSortedTodos","todos","filter","todo","completed","getSearchedTodos","includes","this","props","onChecked","selectedUserId","todosByStatus","className","type","name","onChange","placeholder","map","classNames","TodoList__item__unchecked","TodoList__item__checked","htmlFor","id","readOnly","TodoList__user_button__selected","userId","onClick","React","Component","API_URL","getTodos","a","fetch","then","result","json","getUserById","CurrentUser","user","username","email","phone","website","userError","loadUsers","prevProps","onClear","App","selectUser","unselectAll","ReactDOM","render","document","getElementById"],"mappings":"+WAeaA,EAAb,4MACEC,MAAe,CACbC,MAAO,GACPC,OAAQ,OAHZ,EAMEC,kBAAoB,SAACC,GACnB,IAAQC,EAAUD,EAAME,OAAhBD,MAER,EAAKE,SAAS,CAAEN,MAAOI,EAAMG,iBATjC,EAYEC,qBAAuB,SAACL,GACtB,IAAQC,EAAUD,EAAME,OAAhBD,MAER,EAAKE,SAAS,CAAEL,OAAQG,KAf5B,EAkBEK,eAAiB,SAACC,GAGhB,OAFmB,EAAKX,MAAhBE,QAGN,IAAK,SACH,OAAOS,EAAMC,QAAO,SAAAC,GAAI,OAAuB,IAAnBA,EAAKC,aACnC,IAAK,MACH,OAAOH,EACT,QACE,OAAOA,EAAMC,QAAO,SAAAC,GAAI,OAAuB,IAAnBA,EAAKC,eA3BzC,EA+BEC,iBAAmB,SAACJ,GAClB,IAAQV,EAAU,EAAKD,MAAfC,MAER,OAAIA,EACKU,EAAMC,QAAO,SAAAC,GAAI,OAAIA,EAAKZ,MAAMO,cAAcQ,SAASf,MAGzDU,GAtCX,4CAyCE,WACE,MAAsCM,KAAKC,MAAnCC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,eACbC,EAAgBJ,KAAKP,eAAeO,KAAKC,MAAMP,OAC/CA,EAAQM,KAAKF,iBAAiBM,GAEpC,OACE,sBAAKC,UAAU,WAAf,UACE,wCACA,uBACEC,KAAK,OACLC,KAAK,QACLnB,MAAOY,KAAKjB,MAAMC,MAClBwB,SAAUR,KAAKd,kBACfuB,YAAY,gBAEd,yBACEF,KAAK,SACLnB,MAAOY,KAAKjB,MAAME,OAClBuB,SAAUR,KAAKR,qBAHjB,UAKE,wBAAQJ,MAAM,MAAd,wBAGA,wBAAQA,MAAM,YAAd,uBAGA,wBAAQA,MAAM,SAAd,8BAIF,qBAAKiB,UAAU,2BAAf,SACE,oBAAIA,UAAU,iBAAd,SACGX,EAAMgB,KAAI,SAAAd,GAAI,OACb,qBAEES,UAAWM,IAAW,iBAAkB,CAAEC,2BAA8C,IAAnBhB,EAAKC,WAAuB,CAAEgB,yBAA4C,IAAnBjB,EAAKC,YAFnI,UAIE,wBAAOiB,QAAQ,KAAf,UACE,uBAAOC,GAAG,KAAKT,KAAK,WAAWU,UAAQ,IACvC,4BAAIpB,EAAKZ,WAEX,yBACEqB,UAAWM,IAAW,wBACpB,SACA,CAAEM,gCAAiCrB,EAAKsB,SAAWf,IACrDG,KAAK,SACLa,QAAS,kBAAMjB,EAAUN,EAAKsB,SALhC,iBAQG,IACAtB,EAAKsB,YAhBHtB,EAAKmB,kBA3E1B,GAA8BK,IAAMC,WCfvBC,EAAU,oCAEVC,EAAQ,uCAAG,sBAAAC,EAAA,+EACfC,MAAM,GAAD,OAAIH,EAAJ,WACTI,MAAK,SAAAC,GAAM,OAAIA,EAAOC,WAFH,2CAAH,qDAKRC,EAAW,uCAAG,WAAOX,GAAP,SAAAM,EAAA,+EAClBC,MAAM,GAAD,OAAIH,EAAJ,kBAAqBJ,IAC9BQ,MAAK,SAAAC,GAAM,OAAIA,EAAOC,WAFA,2CAAH,sDCOXE,G,MAAb,4MACE/C,MAAe,CACbgD,KAAM,CACJhB,GAAI,EACJR,KAAM,GACNyB,SAAU,GACVC,MAAO,GACPC,MAAO,GACPC,QAAS,IAEXC,WAAW,GAVf,EAuBEC,UAvBF,sBAuBc,4BAAAb,EAAA,+EAEWK,EAAY,EAAK5B,MAAMiB,QAFlC,OAEFa,EAFE,OAIR,EAAKzC,SAAS,CAAEyC,OAAMK,WAAW,IAJzB,gDAMR,EAAK9C,SAAS,CAAE8C,WAAW,IANnB,yDAvBd,8FAaE,sBAAAZ,EAAA,sDACExB,KAAKqC,YADP,gDAbF,sFAiBE,SAAmBC,GACbtC,KAAKC,MAAMiB,SAAWoB,EAAUpB,QAClClB,KAAKqC,cAnBX,oBAiCE,WACE,OACGrC,KAAKjB,MAAMqD,UAAZ,wBAsBmBpC,KAAKC,MAAMiB,OAtB9B,kBACE,sBAAKb,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,SACE,kDAEG,IACAL,KAAKjB,MAAMgD,KAAKhB,QAIrB,oBAAIV,UAAU,oBAAd,SAAmCL,KAAKjB,MAAMgD,KAAKxB,OACnD,mBAAGF,UAAU,qBAAb,SAAmCL,KAAKjB,MAAMgD,KAAKE,QACnD,mBAAG5B,UAAU,qBAAb,SAAmCL,KAAKjB,MAAMgD,KAAKG,QACnD,wBACE5B,KAAK,SACLD,UAAU,SACVc,QAASnB,KAAKC,MAAMsC,QAHtB,0BAhDV,GAAiCnB,IAAMC,YCFjCmB,E,4MACJzD,MAAe,CACboB,eAAgB,EAChBT,MAAO,I,EAST+C,WAAa,SAACvB,GACZ,EAAK5B,SAAS,CAAEa,eAAgBe,K,EAGlCwB,YAAc,WACZ,EAAKpD,SAAS,CACZa,eAAgB,K,8FAZpB,4BAAAqB,EAAA,sEACsBD,IADtB,OACQ7B,EADR,OAGEM,KAAKV,SAAS,CAAEI,UAHlB,gD,0EAgBA,WACE,IAAQS,EAAmBH,KAAKjB,MAAxBoB,eAER,OACE,sBAAKE,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,EAAD,CACEX,MAAOM,KAAKjB,MAAMW,MAClBQ,UAAWF,KAAKyC,WAChBtC,eAAgBA,MAIpB,qBAAKE,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACGF,EACC,cAAC,EAAD,CACEe,OAAQlB,KAAKjB,MAAMoB,eACnBoC,QAASvC,KAAK0C,cAEd,8B,GA1CEtB,IAAMC,WAkDTmB,IC3DfG,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.a3a26a4c.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\n\ntype Props = {\n  todos: Todo[];\n  onChecked: (userId: number) => void,\n  selectedUserId: number,\n};\n\ntype State = {\n  title: string,\n  sortBy: string,\n};\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    title: '',\n    sortBy: 'all',\n  };\n\n  handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    this.setState({ title: value.toLowerCase() });\n  };\n\n  handleSelectorChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value } = event.target;\n\n    this.setState({ sortBy: value });\n  };\n\n  getSortedTodos = (todos: Todo[]) => {\n    const { sortBy } = this.state;\n\n    switch (sortBy) {\n      case 'active':\n        return todos.filter(todo => todo.completed === false);\n      case 'all':\n        return todos;\n      default:\n        return todos.filter(todo => todo.completed === true);\n    }\n  };\n\n  getSearchedTodos = (todos: Todo[]) => {\n    const { title } = this.state;\n\n    if (title) {\n      return todos.filter(todo => todo.title.toLowerCase().includes(title));\n    }\n\n    return todos;\n  };\n\n  render() {\n    const { onChecked, selectedUserId } = this.props;\n    const todosByStatus = this.getSortedTodos(this.props.todos);\n    const todos = this.getSearchedTodos(todosByStatus);\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <input\n          type=\"text\"\n          name=\"title\"\n          value={this.state.title}\n          onChange={this.handleInputChange}\n          placeholder=\"enter title\"\n        />\n        <select\n          name=\"sortBy\"\n          value={this.state.sortBy}\n          onChange={this.handleSelectorChange}\n        >\n          <option value=\"all\">\n            choose all\n          </option>\n          <option value=\"complited\">\n            completed\n          </option>\n          <option value=\"active\">\n            not complited\n          </option>\n        </select>\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {todos.map(todo => (\n              <li\n                key={todo.id}\n                className={classNames('TodoList__item', { TodoList__item__unchecked: todo.completed === false }, { TodoList__item__checked: todo.completed === true })}\n              >\n                <label htmlFor=\"id\">\n                  <input id=\"id\" type=\"checkbox\" readOnly />\n                  <p>{todo.title}</p>\n                </label>\n                <button\n                  className={classNames('TodoList__user-button',\n                    'button',\n                    { TodoList__user_button__selected: todo.userId === selectedUserId })}\n                  type=\"button\"\n                  onClick={() => onChecked(todo.userId)}\n                >\n                  User\n                  {' '}\n                  {todo.userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","export const API_URL = 'https://mate.academy/students-api';\n\nexport const getTodos = async (): Promise<Todo[]> => {\n  return fetch(`${API_URL}/todos`)\n    .then(result => result.json());\n};\n\nexport const getUserById = async (userId: number): Promise<User> => {\n  return fetch(`${API_URL}/users/${userId}`)\n    .then(result => result.json());\n};\n","import React from 'react';\nimport { getUserById } from '../api/api';\nimport './CurrentUser.scss';\n\ntype Props = {\n  userId: number,\n  onClear: () => void,\n};\n\ntype State = {\n  user: User,\n  userError: boolean,\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: {\n      id: 0,\n      name: '',\n      username: '',\n      email: '',\n      phone: '',\n      website: '',\n    },\n    userError: false,\n  };\n\n  async componentDidMount() {\n    this.loadUsers();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.userId !== prevProps.userId) {\n      this.loadUsers();\n    }\n  }\n\n  loadUsers = async () => {\n    try {\n      const user = await getUserById(this.props.userId);\n\n      this.setState({ user, userError: false });\n    } catch {\n      this.setState({ userError: true });\n    }\n  };\n\n  render() {\n    return (\n      !this.state.userError ? (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              Selected user:\n              {' '}\n              {this.state.user.id}\n            </span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">{this.state.user.name}</h3>\n          <p className=\"CurrentUser__email\">{this.state.user.email}</p>\n          <p className=\"CurrentUser__phone\">{this.state.user.phone}</p>\n          <button\n            type=\"button\"\n            className=\"button\"\n            onClick={this.props.onClear}\n          >\n            clear\n          </button>\n        </div>\n      ) : (\n        `User with id #${this.props.userId} doesn't exist`\n      )\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './components/api/api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n  };\n\n  async componentDidMount() {\n    const todos = await getTodos();\n\n    this.setState({ todos });\n  }\n\n  selectUser = (userId: number) => {\n    this.setState({ selectedUserId: userId });\n  };\n\n  unselectAll = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  };\n\n  render() {\n    const { selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={this.state.todos}\n            onChecked={this.selectUser}\n            selectedUserId={selectedUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={this.state.selectedUserId}\n                onClear={this.unselectAll}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}